var camera,scene,renderer,stats,player;function threeStart(){init(),animate()}!(document.oncontextmenu=function(e){e.preventDefault()})===WEBGL.isWebGLAvailable()&&document.body.appendChild(WEBGL.getWebGLErrorMessage());var playerPosition,jumpDistance,buildDistance,downtween,mainmesh1,mainmesh2,mainmesh3,mainmesh4,mainmesh5,mainmeshPosition1,mainmeshPosition2,mainmeshPosition3,mainmeshPosition4,mainmeshPosition5,point=0,direction=1;function init(){(scene=new THREE.Scene).background=new THREE.Color(8886180),width=document.getElementById("canvas-frame").clientWidth,height=document.getElementById("canvas-frame").clientHeight,(renderer=new THREE.WebGLRenderer({antialias:!0})).setSize(width,height),renderer.shadowMap.enabled=!0,document.getElementById("canvas-frame").appendChild(renderer.domElement),(stats=new Stats).domElement.style.position="absolute",stats.domElement.style.right="8px",stats.domElement.style.top="8px",stats.domElement.style.width="90px",document.getElementById("canvas-frame").appendChild(stats.domElement),(camera=new THREE.OrthographicCamera(width/-2,width/2,height/2,height/-2,-1e3,2e3)).position.set(200,165,150),camera.lookAt(new THREE.Vector3(0,0,0)),light=new THREE.AmbientLight(16777215,.7),scene.add(light),light2=new THREE.DirectionalLight(16777215,.4),light2.castShadow=!0,light2.position.set(300,400,0),light2.shadowDarkness=.6,light2.shadow.mapSize.width=2e3,light2.shadow.mapSize.height=2e3,light2.shadow.camera.near=300,light2.shadow.camera.far=700,light2.shadow.camera.left=-500,light2.shadow.camera.right=500,light2.shadow.camera.top=500,light2.shadow.camera.bottom=-500;creatGround(0,0,8886180);switch(Math.floor(9*Math.random())){case 0:mainmesh4=creatcube10(0,0);break;case 1:mainmesh4=creatcube11(0,0);break;case 2:mainmesh4=creatcube12(0,0);break;case 3:mainmesh4=creatcube13(0,0);break;case 4:mainmesh4=creatcube14(0,0);break;case 5:mainmesh4=creatcube15(0,0);break;case 6:mainmesh4=creatcube16(0,0);break;case 7:mainmesh4=creatcube17(0,0);break;case 8:mainmesh4=creatcube18(0,0)}switch(mainmeshPosition4=new THREE.Vector3(0,0,0),buildDistance=200,Math.floor(9*Math.random())){case 0:mainmesh5=creatcube10(0,-buildDistance);break;case 1:mainmesh5=creatcube11(0,-buildDistance);break;case 2:mainmesh5=creatcube12(0,-buildDistance);break;case 3:mainmesh5=creatcube13(0,-buildDistance);break;case 4:mainmesh5=creatcube14(0,-buildDistance);break;case 5:mainmesh5=creatcube15(0,-buildDistance);break;case 6:mainmesh5=creatcube16(0,-buildDistance);break;case 7:mainmesh5=creatcube17(0,-buildDistance);break;case 8:mainmesh5=creatcube18(0,-buildDistance)}mainmeshPosition5=new THREE.Vector3(0,0,0),(player=creatcubeplayer(0,-50,0)).position.set(0,200,0),playerPosition=new THREE.Vector3(0,0,0),scene.add(player),scene.add(light2);var e={py:player.position.y};new TWEEN.Tween(e).to({py:50},500).onUpdate(function(){player.position.y=this.py}).onComplete(function(){var i;1==IsPC()?(i=0,document.getElementById("canvas-frame").addEventListener("mousedown",function(){beStronger(),bulingBulingDown();var e=new Date;i=e.getTime()}),document.getElementById("canvas-frame").addEventListener("mouseup",function(){downtween.stop();var e=new Date;upTime=e.getTime(),jump(jumpDistance=1==Math.ceil((upTime-i)/100)?20:100+20*Math.round((upTime-i)/100))})):(document.getElementById("canvas-frame").addEventListener("touchstart",function(){beStronger(),bulingBulingDown();var e=new Date;i=e.getTime()}),document.getElementById("canvas-frame").addEventListener("touchend",function(){downtween.stop();var e=new Date;upTime=e.getTime(),jump(jumpDistance=1==Math.ceil((upTime-i)/100)?20:100+20*Math.round((upTime-i)/100))}))}).easing(TWEEN.Easing.Bounce.Out).delay(500).start(),window.addEventListener("resize",onWindowResize,!1)}function IsPC(){for(var e=navigator.userAgent,i=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],a=!0,n=0;n<i.length;n++)if(0<e.indexOf(i[n])){a=!1;break}return a}function beStronger(){Option={py:player.children[0].position.y,sy:player.children[1].scale.y,sx:player.children[1].scale.x,sz:player.children[1].scale.z},downtween=new TWEEN.Tween(Option).to({py:36,sy:.5,sx:1.5,sz:1.5},1050).onUpdate(function(){player.children[0].position.y=this.py,player.children[1].scale.y=this.sy,player.children[1].scale.x=this.sx,player.children[1].scale.z=this.sz}).interpolation(TWEEN.Interpolation.Bezier).start()}function jump(e){console.log(jumpDistance,buildDistance,playerPosition,player.position),jumpr2=1==direction?(Option={hpy:player.children[0].position.y,hsy:player.children[1].scale.y,hsx:player.children[1].scale.x,hsz:player.children[1].scale.z},jumpr1=new TWEEN.Tween(Option).to({hpy:56,hsy:1,hsx:1,hsz:1},50).onUpdate(function(){player.children[0].position.y=this.hpy,player.children[1].scale.y=this.hsy,player.children[1].scale.x=this.hsx,player.children[1].scale.z=this.hsz}),Option={px:playerPosition.x,py:0,pz:playerPosition.z},new TWEEN.Tween(Option).to({px:[.5*playerPosition.x,0],py:[150,0],pz:[playerPosition.z-.5*e,playerPosition.z-e]},400).onUpdate(function(){player.position.x=this.px,player.position.y=this.py+50,player.position.z=this.pz}).onComplete(function(){playerPosition.x=0,playerPosition.z=playerPosition.z-e,-playerPosition.z-buildDistance<=50&&-50<=-playerPosition.z-buildDistance?(pointGet(),changeCamera(),bulingBulingUp()):-playerPosition.z<=50?bulingBulingUp():50<-playerPosition.z&&-playerPosition.z<62?gameOver(11):-playerPosition.z-buildDistance<62&&50<-playerPosition.z-buildDistance?gameOver(22):-38<-playerPosition.z-buildDistance&&-playerPosition.z-buildDistance<-50?gameOver(21):gameOver(0),console.log(playerPosition,player.position)}).interpolation(TWEEN.Interpolation.Bezier)):(Option={hpy:player.children[0].position.y,hsy:player.children[1].scale.y,hsx:player.children[1].scale.x,hsz:player.children[1].scale.z},jumpr1=new TWEEN.Tween(Option).to({hpy:56,hsy:1,hsx:1,hsz:1},50).onUpdate(function(){player.children[0].position.y=this.hpy,player.children[1].scale.y=this.hsy,player.children[1].scale.x=this.hsx,player.children[1].scale.z=this.hsz}),Option={py:0,px:playerPosition.x,pz:playerPosition.z},new TWEEN.Tween(Option).to({py:[150,0],px:[playerPosition.x-.5*e,playerPosition.x-e],pz:[.5*playerPosition.z,0]},400).onUpdate(function(){player.position.y=this.py+50,player.position.x=this.px,player.position.z=this.pz}).onComplete(function(){playerPosition.z=0,playerPosition.x=playerPosition.x-e,-playerPosition.x-buildDistance<=50&&-50<=-playerPosition.x-buildDistance?(pointGet(),changeCamera(),bulingBulingUp()):-playerPosition.x<=50?bulingBulingUp():50<-playerPosition.x&&-playerPosition.x<62?gameOver(11):-playerPosition.x-buildDistance<62&&50<-playerPosition.x-buildDistance?gameOver(22):-38<-playerPosition.x-buildDistance&&-playerPosition.x-buildDistance<-50?gameOver(21):gameOver(0)}).interpolation(TWEEN.Interpolation.Bezier)),jumpr1.chain(jumpr2),jumpr1.start()}function bulingBulingDown(){}function bulingBulingUp(){}function changeCamera(){1==direction?(playerPosition.z=player.position.z,mainmesh1&&mainmesh2&&mainmesh3&&mainmesh4&&mainmesh5?(Option={pz:playerPosition.z,ps1:mainmeshPosition1.z,ps2:mainmeshPosition2.z,ps3:mainmeshPosition3.z,ps4:mainmeshPosition4.z,ps5:mainmeshPosition5.z},new TWEEN.Tween(Option).to({pz:playerPosition.z+buildDistance,ps1:mainmeshPosition1.z+buildDistance,ps2:mainmeshPosition2.z+buildDistance,ps3:mainmeshPosition3.z+buildDistance,ps4:mainmeshPosition4.z+buildDistance,ps5:mainmeshPosition5.z+buildDistance},400).onUpdate(function(){mainmesh1.position.z=this.ps1,mainmesh2.position.z=this.ps2,mainmesh3.position.z=this.ps3,mainmesh4.position.z=this.ps4,mainmesh5.position.z=this.ps5,player.position.z=this.pz}).onComplete(function(){playerPosition.z+=buildDistance,mainmeshPosition1.z=mainmeshPosition2.z+buildDistance,mainmeshPosition1.x=mainmeshPosition2.x,mainmeshPosition2.z=mainmeshPosition3.z+buildDistance,mainmeshPosition2.x=mainmeshPosition3.x,mainmeshPosition3.z=mainmeshPosition4.z+buildDistance,mainmeshPosition3.x=mainmeshPosition4.x,mainmeshPosition4.z=mainmeshPosition5.z+buildDistance,mainmeshPosition4.x=mainmeshPosition5.x,deleteGroup(mainmesh1),mainmesh1=mainmesh2,mainmesh2=mainmesh3,mainmesh3=mainmesh4,mainmesh4=mainmesh5,createBox()}).start()):mainmesh3?mainmesh2?(Option={pz:playerPosition.z,ps2:mainmeshPosition2.z,ps3:mainmeshPosition3.z,ps4:mainmeshPosition4.z,ps5:mainmeshPosition5.z},new TWEEN.Tween(Option).to({pz:playerPosition.z+buildDistance,ps2:mainmeshPosition2.z+buildDistance,ps3:mainmeshPosition3.z+buildDistance,ps4:mainmeshPosition4.z+buildDistance,ps5:mainmeshPosition5.z+buildDistance},400).onUpdate(function(){mainmesh2.position.z=this.ps2,mainmesh3.position.z=this.ps3,mainmesh4.position.z=this.ps4,mainmesh5.position.z=this.ps5,player.position.z=this.pz}).onComplete(function(){playerPosition.z+=buildDistance,(mainmeshPosition1=new THREE.Vector3(0,0,0)).z=mainmeshPosition2.z+buildDistance,mainmeshPosition1.x=mainmeshPosition2.x,mainmeshPosition2.z=mainmeshPosition3.z+buildDistance,mainmeshPosition2.x=mainmeshPosition3.x,mainmeshPosition3.z=mainmeshPosition4.z+buildDistance,mainmeshPosition3.x=mainmeshPosition4.x,mainmeshPosition4.z=mainmeshPosition5.z+buildDistance,mainmeshPosition4.x=mainmeshPosition5.x,mainmesh1=mainmesh2,mainmesh2=mainmesh3,mainmesh3=mainmesh4,mainmesh4=mainmesh5,createBox()}).start()):(Option={pz:playerPosition.z,ps3:mainmeshPosition3.z,ps4:mainmeshPosition4.z,ps5:mainmeshPosition5.z},new TWEEN.Tween(Option).to({pz:playerPosition.z+buildDistance,ps3:mainmeshPosition3.z+buildDistance,ps4:mainmeshPosition4.z+buildDistance,ps5:mainmeshPosition5.z+buildDistance},400).onUpdate(function(){mainmesh3.position.z=this.ps3,mainmesh4.position.z=this.ps4,mainmesh5.position.z=this.ps5,player.position.z=this.pz}).onComplete(function(){playerPosition.z+=buildDistance,(mainmeshPosition2=new THREE.Vector3(0,0,0)).z=mainmeshPosition3.z+buildDistance,mainmeshPosition2.x=mainmeshPosition3.x,mainmeshPosition3.z=mainmeshPosition4.z+buildDistance,mainmeshPosition3.x=mainmeshPosition4.x,mainmeshPosition4.z=mainmeshPosition5.z+buildDistance,mainmeshPosition4.x=mainmeshPosition5.x,mainmesh2=mainmesh3,mainmesh3=mainmesh4,mainmesh4=mainmesh5,createBox()}).start()):(Option={pz:playerPosition.z,ps4:mainmeshPosition4.z,ps5:mainmeshPosition5.z},new TWEEN.Tween(Option).to({pz:playerPosition.z+buildDistance,ps4:mainmeshPosition4.z+buildDistance,ps5:mainmeshPosition5.z+buildDistance},400).onUpdate(function(){mainmesh4.position.z=this.ps4,mainmesh5.position.z=this.ps5,player.position.z=this.pz}).onComplete(function(){playerPosition.z+=buildDistance,(mainmeshPosition3=new THREE.Vector3(0,0,0)).z=mainmeshPosition4.z+buildDistance,mainmeshPosition3.x=mainmeshPosition4.x,mainmeshPosition4.z=mainmeshPosition5.z+buildDistance,mainmeshPosition4.x=mainmeshPosition5.x,mainmesh3=mainmesh4,mainmesh4=mainmesh5,createBox()}).start())):(playerPosition.x=player.position.x,mainmesh1&&mainmesh2&&mainmesh3&&mainmesh4&&mainmesh5?(Option={px:playerPosition.x,ps1:mainmeshPosition1.x,ps2:mainmeshPosition2.x,ps3:mainmeshPosition3.x,ps4:mainmeshPosition4.x,ps5:mainmeshPosition5.x},new TWEEN.Tween(Option).to({px:playerPosition.x+buildDistance,ps1:mainmeshPosition1.x+buildDistance,ps2:mainmeshPosition2.x+buildDistance,ps3:mainmeshPosition3.x+buildDistance,ps4:mainmeshPosition4.x+buildDistance,ps5:mainmeshPosition5.x+buildDistance},400).onUpdate(function(){mainmesh1.position.x=this.ps1,mainmesh2.position.x=this.ps2,mainmesh3.position.x=this.ps3,mainmesh4.position.x=this.ps4,mainmesh5.position.x=this.ps5,player.position.x=this.px}).onComplete(function(){playerPosition.x+=buildDistance,mainmeshPosition1.x=mainmeshPosition2.x+buildDistance,mainmeshPosition1.z=mainmeshPosition2.z,mainmeshPosition2.x=mainmeshPosition3.x+buildDistance,mainmeshPosition2.z=mainmeshPosition3.z,mainmeshPosition3.x=mainmeshPosition4.x+buildDistance,mainmeshPosition3.z=mainmeshPosition4.z,mainmeshPosition4.x=mainmeshPosition5.x+buildDistance,mainmeshPosition4.z=mainmeshPosition5.z,deleteGroup(mainmesh1),mainmesh1=mainmesh2,mainmesh2=mainmesh3,mainmesh3=mainmesh4,mainmesh4=mainmesh5,createBox()}).start()):mainmesh3?mainmesh2?(Option={px:playerPosition.x,ps2:mainmeshPosition2.x,ps3:mainmeshPosition3.x,ps4:mainmeshPosition4.x,ps5:mainmeshPosition5.x},new TWEEN.Tween(Option).to({px:playerPosition.x+buildDistance,ps2:mainmeshPosition2.x+buildDistance,ps3:mainmeshPosition3.x+buildDistance,ps4:mainmeshPosition4.x+buildDistance,ps5:mainmeshPosition5.x+buildDistance},400).onUpdate(function(){mainmesh2.position.x=this.ps2,mainmesh3.position.x=this.ps3,mainmesh4.position.x=this.ps4,mainmesh5.position.x=this.ps5,player.position.x=this.px}).onComplete(function(){playerPosition.x+=buildDistance,(mainmeshPosition1=new THREE.Vector3(0,0,0)).x=mainmeshPosition2.x+buildDistance,mainmeshPosition1.z=mainmeshPosition2.z,mainmeshPosition2.x=mainmeshPosition3.x+buildDistance,mainmeshPosition2.z=mainmeshPosition3.z,mainmeshPosition3.x=mainmeshPosition4.x+buildDistance,mainmeshPosition3.z=mainmeshPosition4.z,mainmeshPosition4.x=mainmeshPosition5.x+buildDistance,mainmeshPosition4.z=mainmeshPosition5.z,mainmesh1=mainmesh2,mainmesh2=mainmesh3,mainmesh3=mainmesh4,mainmesh4=mainmesh5,createBox()}).start()):(Option={px:playerPosition.x,ps3:mainmeshPosition3.x,ps4:mainmeshPosition4.x,ps5:mainmeshPosition5.x},new TWEEN.Tween(Option).to({px:playerPosition.x+buildDistance,ps3:mainmeshPosition3.x+buildDistance,ps4:mainmeshPosition4.x+buildDistance,ps5:mainmeshPosition5.x+buildDistance},400).onUpdate(function(){mainmesh3.position.x=this.ps3,mainmesh4.position.x=this.ps4,mainmesh5.position.x=this.ps5,player.position.x=this.px}).onComplete(function(){playerPosition.x+=buildDistance,(mainmeshPosition2=new THREE.Vector3(0,0,0)).x=mainmeshPosition3.x+buildDistance,mainmeshPosition2.z=mainmeshPosition3.z,mainmeshPosition3.x=mainmeshPosition4.x+buildDistance,mainmeshPosition3.z=mainmeshPosition4.z,mainmeshPosition4.x=mainmeshPosition5.x+buildDistance,mainmeshPosition4.z=mainmeshPosition5.z,mainmesh2=mainmesh3,mainmesh3=mainmesh4,mainmesh4=mainmesh5,createBox()}).start()):(Option={px:playerPosition.x,ps4:mainmeshPosition4.x,ps5:mainmeshPosition5.x},new TWEEN.Tween(Option).to({px:playerPosition.x+buildDistance,ps4:mainmeshPosition4.x+buildDistance,ps5:mainmeshPosition5.x+buildDistance},400).onUpdate(function(){mainmesh4.position.x=this.ps4,mainmesh5.position.x=this.ps5,player.position.x=this.px}).onComplete(function(){playerPosition.x+=buildDistance,(mainmeshPosition3=new THREE.Vector3(0,0,0)).x=mainmeshPosition4.x+buildDistance,mainmeshPosition3.z=mainmeshPosition4.z,mainmeshPosition4.x=mainmeshPosition5.x+buildDistance,mainmeshPosition4.z=mainmeshPosition5.z,mainmesh3=mainmesh4,mainmesh4=mainmesh5,createBox()}).start()))}function createBox(){var e=Math.floor(28*Math.random());if(direction=Math.floor(2*Math.random()),buildDistance=100+20*(1+Math.floor(7*Math.random())),1==direction){switch(e){case 0:mainmesh5=creatcube10(0,-buildDistance);break;case 1:mainmesh5=creatcube11(0,-buildDistance);break;case 2:mainmesh5=creatcube12(0,-buildDistance);break;case 3:mainmesh5=creatcube13(0,-buildDistance);break;case 4:mainmesh5=creatcube14(0,-buildDistance);break;case 5:mainmesh5=creatcube15(0,-buildDistance);break;case 6:mainmesh5=creatcube16(0,-buildDistance);break;case 7:mainmesh5=creatcube17(0,-buildDistance);break;case 8:mainmesh5=creatcube18(0,-buildDistance);break;case 9:mainmesh5=creatcube21(0,-buildDistance);break;case 10:mainmesh5=creatcube22(0,-buildDistance);break;case 11:mainmesh5=creatcube23(0,-buildDistance);break;case 12:mainmesh5=creatcube24(0,-buildDistance);break;case 13:mainmesh5=creatcube25(0,-buildDistance);break;case 14:mainmesh5=creatcube26(0,-buildDistance);break;case 15:mainmesh5=creatcube27(0,-buildDistance);break;case 16:mainmesh5=creatcube01(0,-buildDistance);break;case 17:mainmesh5=creatcube02(0,-buildDistance);break;case 18:mainmesh5=creatcube03(0,-buildDistance);break;case 19:mainmesh5=creatcube04(0,-buildDistance);break;case 20:mainmesh5=creatcube05(0,-buildDistance);break;case 21:mainmesh5=creatcube06(0,-buildDistance);break;case 22:mainmesh5=creatcube07(0,-buildDistance);break;case 23:mainmesh5=creatdesk(0,-buildDistance);break;case 24:mainmesh5=creatdesk2(0,-buildDistance);break;case 25:mainmesh5=creatcylinder(0,-buildDistance);break;case 26:mainmesh5=creatcylinder2(0,-buildDistance);break;case 27:mainmesh5=creatcup(0,-buildDistance)}mainmesh5.position.set(0,100,0),mainmeshPosition5.z=0,new TWEEN.Tween(mainmesh5.position).to({y:0},500).easing(TWEEN.Easing.Bounce.Out).start()}else{switch(e){case 0:mainmesh5=creatcube10(-buildDistance,0);break;case 1:mainmesh5=creatcube11(-buildDistance,0);break;case 2:mainmesh5=creatcube12(-buildDistance,0);break;case 3:mainmesh5=creatcube13(-buildDistance,0);break;case 4:mainmesh5=creatcube14(-buildDistance,0);break;case 5:mainmesh5=creatcube15(-buildDistance,0);break;case 6:mainmesh5=creatcube16(-buildDistance,0);break;case 7:mainmesh5=creatcube17(-buildDistance,0);break;case 8:mainmesh5=creatcube18(-buildDistance,0);break;case 9:mainmesh5=creatcube21(-buildDistance,0);break;case 10:mainmesh5=creatcube22(-buildDistance,0);break;case 11:mainmesh5=creatcube23(-buildDistance,0);break;case 12:mainmesh5=creatcube24(-buildDistance,0);break;case 13:mainmesh5=creatcube25(-buildDistance,0);break;case 14:mainmesh5=creatcube26(-buildDistance,0);break;case 15:mainmesh5=creatcube27(-buildDistance,0);break;case 16:mainmesh5=creatcube01(-buildDistance,0);break;case 17:mainmesh5=creatcube02(-buildDistance,0);break;case 18:mainmesh5=creatcube03(-buildDistance,0);break;case 19:mainmesh5=creatcube04(-buildDistance,0);break;case 20:mainmesh5=creatcube05(-buildDistance,0);break;case 21:mainmesh5=creatcube06(-buildDistance,0);break;case 22:mainmesh5=creatcube07(-buildDistance,0);break;case 23:mainmesh5=creatdesk(-buildDistance,0);break;case 24:mainmesh5=creatdesk2(-buildDistance,0);break;case 25:mainmesh5=creatcylinder(-buildDistance,0);break;case 26:mainmesh5=creatcylinder2(-buildDistance,0);break;case 27:mainmesh5=creatcup(-buildDistance,0)}mainmesh5.position.set(0,100,0),mainmeshPosition5.x=0,new TWEEN.Tween(mainmesh5.position).to({y:0},500).easing(TWEEN.Easing.Bounce.Out).start()}}function gameOver(e){pointCount()}function pointCount(){document.getElementById("gameOver").style.display="block",document.getElementById("point").style.display="none"}function pointGet(){1==direction?playerPosition.z-buildDistance==0?point+=2:point+=1:playerPosition.x-buildDistance==0?point+=2:point+=1,document.getElementById("point").innerHTML=point,document.getElementById("pointtotal").innerHTML=point}function creatcubeplayer(e,i,a){var n=new THREE.SphereGeometry(9,30,30),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/head.png"),s=new THREE.MeshLambertMaterial({map:s});mesh=new THREE.Mesh(n,s),mesh.castShadow=!0,mesh.position.set(e,i+106,a),mesh.castShadow=!0,mesh.rotation.y=Math.PI/2;n=new THREE.SphereGeometry(11.5,30,30,0,2*Math.PI,0,Math.PI/3),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/head.png"),s=new THREE.MeshLambertMaterial({map:s});mesh3=new THREE.Mesh(n,s),mesh3.castShadow=!0,mesh3.position.set(e,i+78,a),mesh3.castShadow=!0,mesh3.rotation.y=7*Math.PI/10;n=new THREE.CylinderGeometry(10,9,8,30),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/top.png"),s=new THREE.MeshLambertMaterial({map:s});mesh1=new THREE.Mesh(n,s),mesh1.castShadow=!0,mesh1.position.set(e,i+80,a),mesh1.castShadow=!0,mesh1.rotation.y=-Math.PI/4;n=new THREE.CylinderGeometry(9,12,26,30),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/bottom.png"),s=new THREE.MeshLambertMaterial({map:s});return mesh2=new THREE.Mesh(n,s),mesh2.castShadow=!0,mesh2.position.set(e,i+63,a),mesh2.castShadow=!0,mesh2.rotation.y=-Math.PI/3,body=new THREE.Object3D,body.add(mesh1,mesh2,mesh3),group=new THREE.Object3D,group.add(mesh,body),group}function creatGround(e,i,a){var n=new THREE.PlaneGeometry(5e3,5e3,1,1),a=new THREE.MeshLambertMaterial({color:a});return mesh=new THREE.Mesh(n,a),mesh.receiveShadow=!0,mesh.rotation.x=-Math.PI/2,mesh.position.set(e,-.01,i),scene.add(mesh),mesh}function creatcube10(e,i){return group=canvasTwoFace_5stripe(e,i,16777215,"#ffffff","#979797"),group}function creatcube11(e,i){return group=canvasTwoFace_5stripe(e,i,6842472,"#686868","#afafaf"),group}function creatcube12(e,i){return group=canvasTwoFace_3stripe(e,i,6842472,"#686868","#afafaf"),group}function creatcube13(e,i){return group=canvasTwoFace_3stripe(e,i,6591849,"#649569","#ffffff"),group}function creatcube14(e,i){return group=canvasTwoFace_5stripe(e,i,6591849,"#649569","#ffffff"),group}function creatcube15(e,i){return group=canvasTwoFace_circle(e,i,6842472,"#686868","#afafaf"),group}function creatcube16(e,i){return group=canvasTwoFace_circle(e,i,16777215,"#ffffff","#979797"),group}function creatcube17(e,i){return group=canvasTwoFace_circle(e,i,6591849,"#649569","#ffffff"),group}function creatcube18(e,i){return group=canvasTwoFace_3stripe(e,i,16777215,"#ffffff","#979797"),group}function creatcube01(e,i){var a=document.createElement("canvas");a.width=100,a.height=50;var n=a.getContext("2d");n.rect(0,0,100,50),n.fillStyle="#e86014",n.fill(),n.beginPath(),n.arc(40,25,18,0,2*Math.PI),n.fillStyle="#ffffff",n.fill(),n.beginPath(),n.arc(45,20,6,0,2*Math.PI),n.fillStyle="#e86014",n.fill(),n.beginPath(),n.arc(65,10,6,0,2*Math.PI),n.fillStyle="#ffffff",n.fill();a=new THREE.Texture(a);return group=canvasOneFace(e,i,a,15228948),group}function creatcube02(e,i){return group=allPicThreeFace(e,i,"https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/express.png",50),group}function creatcube03(e,i){var a=new THREE.CubeGeometry(100,50,100),n=new THREE.MeshLambertMaterial({color:16140368});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,25,i);var a=new THREE.PlaneGeometry(32,32),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/money.png"),n=new THREE.MeshLambertMaterial({map:s});return mesh2=new THREE.Mesh(a,n),mesh2.receiveShadow=!0,mesh2.rotation.y=Math.PI/2,mesh2.position.set(e+50.01,25,i),Shadow=makeShadow(e,i),group=new THREE.Object3D,group.add(mesh2,mesh,Shadow),scene.add(group),group}function creatcube04(e,i){return group=allPicThreeFace(e,i,"https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/dict.png",50),group}function creatcube05(e,i){var a=new THREE.CubeGeometry(100,50,100),n=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/bag.png"),n=new THREE.MeshLambertMaterial({map:n});return mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,25,i),Shadow=makeShadow(e,i),group=new THREE.Object3D,group.add(mesh,Shadow),scene.add(group),group}function creatcube06(e,i){return group=allPicThreeFace(e,i,"https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/tit.png",50),group}function creatcube21(e,i){var a=new THREE.CubeGeometry(100,50,100),n=new THREE.MeshLambertMaterial({color:6596916});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,25,i),a=new THREE.PlaneGeometry(100,50);var s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/green_face.png");(n=new THREE.MeshLambertMaterial({map:s})).transparent=!0,mesh2=new THREE.Mesh(a,n),mesh2.receiveShadow=!0,mesh2.rotation.y=Math.PI/2,mesh2.position.set(e+50.01,25,i),a=new THREE.CubeGeometry(40,30,15),n=new THREE.MeshLambertMaterial({color:6596916});a=new THREE.Mesh(a,n);a.receiveShadow=!0,a.position.set(e+22,31,i+58),a.rotation.x=-Math.PI/4;n=a.clone();return n.position.set(e+22,31,i+58-112),n.rotation.x=Math.PI/4,Shadow=makeShadow(e,i),group=new THREE.Object3D,group.add(mesh,mesh2,a,n,Shadow),scene.add(group),group}function creatcube22(e,i){var a=new THREE.CubeGeometry(100,50,100),n=new THREE.MeshLambertMaterial({color:13944886});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,25,i),a=new THREE.CylinderGeometry(20,20,10,30,3,!0),n=new THREE.MeshLambertMaterial({color:13944886}),mesh1=new THREE.Mesh(a,n),mesh1.receiveShadow=!0,mesh1.position.set(e,25,i+55),mesh1.rotation.x=-Math.PI/2;var a=new THREE.PlaneGeometry(20,20),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/emotion.png");(n=new THREE.MeshBasicMaterial({map:s})).transparent=!0;n=new THREE.Mesh(a,n);return n.receiveShadow=!0,n.position.set(e,25,i+55.01),mesh2=mesh1.clone(),mesh2.position.set(e+55,25,i),mesh2.rotation.z=Math.PI/2,mesh4=n.clone(),mesh4.position.set(e+55.01,25,i),mesh4.rotation.y=Math.PI/2,Shadow=makeShadow(e,i),group=new THREE.Object3D,group.add(mesh,mesh1,mesh2,n,mesh4,Shadow),scene.add(group),group}function creatcube23(e,i){var a=new THREE.CubeGeometry(100,50,100),n=new THREE.MeshLambertMaterial({color:16777215});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,25,i);var a=new THREE.PlaneGeometry(100,50,1,1),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/clock.png"),n=new THREE.MeshLambertMaterial({map:s});mesh1=new THREE.Mesh(a,n),mesh1.receiveShadow=!0,mesh1.rotation.y=Math.PI/2,mesh1.position.set(e+50.01,25,i);var t=new Date,o=t.getHours(),t=t.getMinutes();function r(e){return e<10&&(e="0"+e),str=e.toString(),str}o=r(o).split(""),t=r(t).split("");function m(e,i,a,n){e="https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/"+e+".png";return 1==i?h(e,30,a,n):2==i?h(e,12,a,n):3==i?h(e,-6,a,n):4==i?h(e,-24,a,n):void 0}function h(e,i,a,n){var s=new THREE.PlaneGeometry(26,26),e=(new THREE.TextureLoader).load(e),e=new THREE.MeshLambertMaterial({map:e});return e.transparent=!0,mesh6=new THREE.Mesh(s,e),mesh6.receiveShadow=!0,mesh6.rotation.y=Math.PI/2,mesh6.position.set(a+50.02,25,n+i),mesh6}mesh2=m(o[0],1,e,i),mesh3=m(o[1],2,e,i),mesh4=m(t[0],3,e,i),mesh5=m(t[1],4,e,i);a=new THREE.CylinderGeometry(20,20,10,100,3,!0);(s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/stripe.png")).wrapS=THREE.RepeatWrapping,s.wrapT=THREE.RepeatWrapping,s.repeat.set(2,2);n=new THREE.MeshLambertMaterial({map:s});mesh7=new THREE.Mesh(a,n),mesh7.receiveShadow=!0,mesh7.position.set(e,25,i+55),mesh7.rotation.x=-Math.PI/2;a=new THREE.CircleGeometry(20,30);(s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/stripe.png")).wrapS=THREE.RepeatWrapping,s.wrapT=THREE.RepeatWrapping,(n=new THREE.MeshBasicMaterial({map:s})).transparent=!0;n=new THREE.Mesh(a,n);return n.receiveShadow=!0,n.position.set(e,25,i+60),Shadow=makeShadow(e,i),group=new THREE.Object3D,group.add(mesh,mesh1,mesh2,mesh3,mesh4,mesh5,mesh7,n,Shadow),scene.add(group),group}function creatcube24(e,i){var a=new THREE.CylinderGeometry(40,40,6,30,3,!0),n=new THREE.MeshLambertMaterial({color:6842472});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,45,i);var a=new THREE.CircleGeometry(40,30),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/record.png"),n=new THREE.MeshBasicMaterial({map:s}),t=new THREE.Mesh(a,n);t.receiveShadow=!0,t.position.set(e,46,i),t.rotation.x=-Math.PI/2;s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/sing.png");(a=new THREE.PlaneGeometry(100,100,1,1)).faceVertexUvs[0]=[];var o=new THREE.Vector2(0,.34),r=new THREE.Vector2(.66,.34),m=new THREE.Vector2(.66,1),h=new THREE.Vector2(0,1);a.faceVertexUvs[0].push([h,o,m],[o,r,m]);n=new THREE.MeshLambertMaterial({map:s});mesh2=new THREE.Mesh(a,n),mesh2.receiveShadow=!0,mesh2.rotation.x=-Math.PI/2,mesh2.position.set(e,44,i),(a=new THREE.PlaneGeometry(100,44,1,1)).faceVertexUvs[0]=[];o=new THREE.Vector2(0,0),r=new THREE.Vector2(.65,0),m=new THREE.Vector2(.65,.333),h=new THREE.Vector2(0,.333);a.faceVertexUvs[0].push([h,o,m],[o,r,m]);n=new THREE.MeshLambertMaterial({map:s});mesh3=new THREE.Mesh(a,n),mesh3.receiveShadow=!0,mesh3.position.set(e,22,i+50),(a=new THREE.PlaneGeometry(100,44,1,1)).faceVertexUvs[0]=[];o=new THREE.Vector2(1,.36),r=new THREE.Vector2(1,1),m=new THREE.Vector2(.666,1),h=new THREE.Vector2(.666,.36);a.faceVertexUvs[0].push([h,o,m],[o,r,m]);n=new THREE.MeshLambertMaterial({map:s});return mesh4=new THREE.Mesh(a,n),mesh4.receiveShadow=!0,mesh4.rotation.y=Math.PI/2,mesh4.position.set(e+50,22,i),Shadow=makeShadow(e,i),group=new THREE.Object3D,group.add(mesh,t,mesh2,mesh3,mesh4,Shadow),scene.add(group),group}function creatcube25(e,i){var a=new THREE.CubeGeometry(100,50,100),n=new THREE.MeshLambertMaterial({color:15921906});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,25,i);var a=new THREE.PlaneGeometry(66,33),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/white_face.png");(n=new THREE.MeshLambertMaterial({map:s})).transparent=!0,mesh1=new THREE.Mesh(a,n),mesh1.receiveShadow=!0,mesh1.rotation.y=Math.PI/2,mesh1.position.set(e+50.01,20,i);a=new THREE.CubeGeometry(40,30,15),n=new THREE.MeshLambertMaterial({color:15921906}),a=new THREE.Mesh(a,n);a.receiveShadow=!0,a.position.set(e+22,30,i+58),a.rotation.x=-Math.PI/4;n=a.clone();return n.position.set(e+22,31,i+58-112),n.rotation.x=Math.PI/4,Shadow=makeShadow(e,i),group=new THREE.Object3D,group.add(mesh,mesh1,a,n,Shadow),scene.add(group),group}function creatcube26(e,i){var a=new THREE.CubeGeometry(100,40,100),n=new THREE.MeshLambertMaterial({color:9532879});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,20,i);var s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/gift.png");(a=new THREE.PlaneGeometry(110,110,1,1)).faceVertexUvs[0]=[];var t=new THREE.Vector2(0,.25),o=new THREE.Vector2(1,.25),r=new THREE.Vector2(1,1),m=new THREE.Vector2(0,1);a.faceVertexUvs[0].push([m,t,r],[t,o,r]);n=new THREE.MeshLambertMaterial({map:s});mesh1=new THREE.Mesh(a,n),mesh1.receiveShadow=!0,mesh1.rotation.x=-Math.PI/2,mesh1.position.set(e,50,i),(a=new THREE.PlaneGeometry(110,16,1,1)).faceVertexUvs[0]=[];t=new THREE.Vector2(0,0),o=new THREE.Vector2(1,0),r=new THREE.Vector2(1,.25),m=new THREE.Vector2(0,.25);a.faceVertexUvs[0].push([m,t,r],[t,o,r]);n=new THREE.MeshLambertMaterial({map:s});mesh2=new THREE.Mesh(a,n),mesh2.receiveShadow=!0,mesh2.position.set(e,42,i+55),(a=new THREE.PlaneGeometry(110,16,1,1)).faceVertexUvs[0]=[];t=new THREE.Vector2(0,0),o=new THREE.Vector2(1,0),r=new THREE.Vector2(1,.25),m=new THREE.Vector2(0,.25);a.faceVertexUvs[0].push([m,t,r],[t,o,r]);new THREE.MeshLambertMaterial({map:s});return mesh3=new THREE.Mesh(a,n),mesh3.receiveShadow=!0,mesh3.rotation.y=Math.PI/2,mesh3.position.set(e+55,42,i),Shadow=makeShadow(e,i),group=new THREE.Object3D,group.add(mesh,mesh1,mesh2,mesh3,Shadow),scene.add(group),group}function creatcube27(e,i){var a=new THREE.CubeGeometry(110,12,90),n=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/stool.png"),s=new THREE.MeshLambertMaterial({map:n});mesh=new THREE.Mesh(a,s),mesh.receiveShadow=!0,mesh.position.set(e,44,i);a=new THREE.CubeGeometry(14,48,14),s=new THREE.MeshLambertMaterial({map:n});return mesh1=new THREE.Mesh(a,s),mesh1.receiveShadow=!0,mesh1.position.set(e-34,18,i+34),mesh1.rotation.x=-Math.PI/20,mesh1.rotation.z=-Math.PI/40,mesh2=mesh1.clone(),mesh2.position.set(e+34,18,i+34),mesh2.rotation.z=Math.PI/40,mesh3=mesh1.clone(),mesh3.position.set(e-34,18,i-34),mesh3.rotation.x=Math.PI/20,mesh4=mesh1.clone(),mesh4.position.set(e+34,18,i-34),mesh4.rotation.x=Math.PI/20,mesh4.rotation.z=Math.PI/40,Shadow=makeShadow_stool(e,i),group=new THREE.Object3D,group.add(mesh,mesh1,mesh2,mesh3,mesh4,Shadow),scene.add(group),group}function creatcube07(e,i){var a=new THREE.CubeGeometry(120,50,100),n=new THREE.MeshLambertMaterial({color:9342606});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,25,i);var a=new THREE.PlaneGeometry(100,120),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/disk.png"),n=new THREE.MeshBasicMaterial({map:s}),n=new THREE.Mesh(a,n);return n.receiveShadow=!0,n.position.set(e,50.01,i),n.rotation.x=-Math.PI/2,n.rotation.z=Math.PI/2,Shadow=makeShadow2(e,i),group=new THREE.Object3D,group.add(mesh,n,Shadow),scene.add(group),group}function creatdesk(e,i){var a=new THREE.CylinderGeometry(50,50,6,30),n=new THREE.MeshLambertMaterial({color:11513775}),s=new THREE.Mesh(a,n);s.receiveShadow=!0,s.position.set(e,47,i);a=new THREE.CylinderGeometry(10,30,49,30),n=new THREE.MeshLambertMaterial({color:6842472});return mesh1=new THREE.Mesh(a,n),mesh1.receiveShadow=!0,mesh1.position.set(e,25,i),Shadow=makeShadow_desk(e,i),group=new THREE.Object3D,group.add(s,mesh1,Shadow),scene.add(group),group}function creatdesk2(e,i){var a=new THREE.CylinderGeometry(50,50,6,30),n=new THREE.MeshLambertMaterial({color:6842472});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,47,i);a=new THREE.CylinderGeometry(10,30,49,30),n=new THREE.MeshLambertMaterial({color:9934743});return mesh1=new THREE.Mesh(a,n),mesh1.receiveShadow=!0,mesh1.position.set(e,25,i),Shadow=makeShadow_desk(e,i),group=new THREE.Object3D,group.add(mesh,mesh1,Shadow),scene.add(group),group}function creatcylinder(e,i){return group=creatcylinder_canvas(e,i,"#ffffff","#979797",16777215,9934743),group}function creatcylinder2(e,i){return group=creatcylinder_canvas(e,i,"#649569","#7bc487",6591849,16777215),group}function creatcup(e,i){var a=new THREE.CylinderGeometry(30,36,10,30,3,!0),n=new THREE.MeshLambertMaterial({color:4605510});mesh=new THREE.Mesh(a,n),mesh.receiveShadow=!0,mesh.position.set(e,45,i);var a=new THREE.CircleGeometry(30,30),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/westore_desk.png"),n=new THREE.MeshBasicMaterial({map:s}),t=new THREE.Mesh(a,n);t.receiveShadow=!0,t.position.set(e,50,i),t.rotation.x=-Math.PI/2,t.rotation.z=Math.PI/4;a=new THREE.CylinderGeometry(32,20,40,30,3,!0),s=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/westore.png"),n=new THREE.MeshBasicMaterial({map:s});return s.needsUpdate=!0,mesh2=new THREE.Mesh(a,n),mesh2.receiveShadow=!0,mesh2.position.set(e,20,i),mesh2.rotation.y=-3*Math.PI/4,Shadow=makeShadow_cup(e,i),group=new THREE.Object3D,group.add(mesh,t,mesh2,Shadow),scene.add(group),group}function topPlane_color(e,i,a){var n=new THREE.PlaneGeometry(100,100,1,1),a=new THREE.MeshLambertMaterial({color:a});return mesh=new THREE.Mesh(n,a),mesh.receiveShadow=!0,mesh.rotation.x=-Math.PI/2,mesh.position.set(e,50,i),mesh}function makeShadow(e,i){var a=new THREE.PlaneGeometry(116,160,1,1),n=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/shadow.png"),n=new THREE.MeshBasicMaterial({map:n});return n.transparent=!0,meshShadow=new THREE.Mesh(a,n),meshShadow.rotation.x=-Math.PI/2,meshShadow.rotation.z=Math.PI/2,meshShadow.position.set(e-30,0,i+6),meshShadow}function makeShadow2(e,i){var a=new THREE.PlaneGeometry(112,180,1,1),n=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/shadow.png"),n=new THREE.MeshBasicMaterial({map:n});return n.transparent=!0,meshShadow=new THREE.Mesh(a,n),meshShadow.rotation.x=-Math.PI/2,meshShadow.rotation.z=Math.PI/2,meshShadow.position.set(e-30,0,i+8),meshShadow}function makeShadow_cylinder(e,i){var a=new THREE.PlaneGeometry(90,130,1,1),n=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/cylinder_shadow.png"),n=new THREE.MeshBasicMaterial({map:n});return n.transparent=!0,meshShadow=new THREE.Mesh(a,n),meshShadow.rotation.x=-Math.PI/2,meshShadow.rotation.z=Math.PI/2,meshShadow.position.set(e-30,0,i+8),meshShadow}function makeShadow_cup(e,i){var a=new THREE.PlaneGeometry(50,80,1,1),n=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/cylinder_shadow.png"),n=new THREE.MeshBasicMaterial({map:n});return n.transparent=!0,meshShadow=new THREE.Mesh(a,n),meshShadow.rotation.x=-Math.PI/2,meshShadow.rotation.z=Math.PI/2,meshShadow.position.set(e-30,0,i+8),meshShadow}function makeShadow_desk(e,i){var a=new THREE.PlaneGeometry(90,140,1,1),n=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/desk_shadow.png"),n=new THREE.MeshBasicMaterial({map:n});return n.transparent=!0,meshShadow=new THREE.Mesh(a,n),meshShadow.rotation.x=-Math.PI/2,meshShadow.rotation.z=Math.PI/2,meshShadow.position.set(e-45,0,i+5),meshShadow}function makeShadow_stool(e,i){var a=new THREE.PlaneGeometry(100,130,1,1),n=(new THREE.TextureLoader).load("https://static.tang-xinli.com/gh/zj19941113/You_Jump_I_Jump/source/stool_shadow.png"),n=new THREE.MeshBasicMaterial({map:n});return n.transparent=!0,meshShadow=new THREE.Mesh(a,n),meshShadow.rotation.x=-Math.PI/2,meshShadow.rotation.z=Math.PI/2,meshShadow.position.set(e-36,0,i+4),meshShadow}function canvasOneFace(e,i,a,n){var s=new THREE.CubeGeometry(100,50,100),n=new THREE.MeshLambertMaterial({color:n});mesh=new THREE.Mesh(s,n),mesh.receiveShadow=!0,mesh.position.set(e,25,i);s=new THREE.PlaneGeometry(100,50),n=new THREE.MeshLambertMaterial({map:a});return a.needsUpdate=!0,mesh1=new THREE.Mesh(s,n),mesh1.receiveShadow=!0,mesh1.rotation.y=Math.PI/2,mesh1.position.set(e+50.01,25,i),Shadow=makeShadow(),Shadow.position.set(e-30,0,i+8),group=new THREE.Object3D,group.add(mesh,mesh1,Shadow),scene.add(group),group}function canvasTwoFace(e,i,a,n){var s=topPlane_color(e,i,n),t=new THREE.PlaneGeometry(100,50,1,1),n=new THREE.MeshLambertMaterial({map:a});a.needsUpdate=!0,mesh1=new THREE.Mesh(t,n),mesh1.receiveShadow=!0,mesh1.position.set(e,25,i+50);n=mesh1.clone();return n.rotation.y=Math.PI/2,n.position.set(e+50,25,i),Shadow=makeShadow(),Shadow.position.set(e-30,0,i+8),group=new THREE.Object3D,group.add(s,mesh1,n,Shadow),scene.add(group),group}function canvasTwoFace_circle(e,i,a,n,s){var t=topPlane_color(e,i,a),o=new THREE.PlaneGeometry(100,50,1,1),r=document.createElement("canvas");r.width=100,r.height=50;a=r.getContext("2d");a.rect(0,0,100,50),a.fillStyle=n,a.fill(),a.beginPath(),a.arc(50,25,20,0,2*Math.PI),a.fillStyle=s,a.fill(),a.beginPath(),a.arc(50,25,10,0,2*Math.PI),a.fillStyle=n,a.fill();a=new THREE.Texture(r),r=new THREE.MeshLambertMaterial({map:a});a.needsUpdate=!0,mesh1=new THREE.Mesh(o,r),mesh1.receiveShadow=!0,mesh1.position.set(e,25,i+50);r=mesh1.clone();return r.rotation.y=Math.PI/2,r.position.set(e+50,25,i),Shadow=makeShadow(),Shadow.position.set(e-30,0,i+8),group=new THREE.Object3D,group.add(t,mesh1,r,Shadow),scene.add(group),group}function canvasTwoFace_5stripe(e,i,a,n,s){var t=document.createElement("canvas");t.width=100,t.height=50;var o=t.getContext("2d");o.fillStyle=n,o.fillRect(0,0,100,10),o.fillStyle=s,o.fillRect(0,10,100,10),o.fillStyle=n,o.fillRect(0,20,100,10),o.fillStyle=s,o.fillRect(0,30,100,10),o.fillStyle=n,o.fillRect(0,40,100,10);t=new THREE.Texture(t);return group=canvasTwoFace(e,i,t,a),group}function canvasTwoFace_3stripe(e,i,a,n,s){var t=document.createElement("canvas");t.width=100,t.height=50;var o=t.getContext("2d");o.fillStyle=n,o.fillRect(0,0,100,10),o.fillStyle=s,o.fillRect(0,10,100,30),o.fillStyle=n,o.fillRect(0,40,100,10);t=new THREE.Texture(t);return group=canvasTwoFace(e,i,t,a),group}function creatcylinder_canvas(e,i,a,n,s,t){var o=new THREE.CylinderGeometry(40,40,44,30,3,!0),r=new THREE.MeshLambertMaterial({color:t});mesh=new THREE.Mesh(o,r),mesh.receiveShadow=!0,mesh.position.set(e,22,i);o=new THREE.CylinderGeometry(40,40,6,30,3,!0),r=new THREE.MeshLambertMaterial({color:s});mesh1=new THREE.Mesh(o,r),mesh1.receiveShadow=!0,mesh1.position.set(e,47,i);o=new THREE.CircleGeometry(40,30),t=document.createElement("canvas");t.width=80,t.height=80;s=t.getContext("2d");s.beginPath(),s.arc(40,40,42,0,2*Math.PI),s.fillStyle=a,s.fill(),s.beginPath(),s.arc(42,42,30,0,2*Math.PI),s.fillStyle=n,s.fill(),s.beginPath(),s.arc(42,42,20,0,2*Math.PI),s.fillStyle=a,s.fill();t=new THREE.Texture(t),r=new THREE.MeshBasicMaterial({map:t});t.needsUpdate=!0;r=new THREE.Mesh(o,r);return r.receiveShadow=!0,r.position.set(e,50,i),r.rotation.x=-Math.PI/2,Shadow=makeShadow_cylinder(e,i),group=new THREE.Object3D,group.add(mesh,mesh1,r,Shadow),scene.add(group),group}function allPicThreeFace(e,i,a,n){var s=(new THREE.TextureLoader).load(a),t=new THREE.PlaneGeometry(100,100,1,1);t.faceVertexUvs[0]=[];var o=new THREE.Vector2(0,.34),r=new THREE.Vector2(.66,.34),m=new THREE.Vector2(.66,1),h=new THREE.Vector2(0,1);t.faceVertexUvs[0].push([h,o,m],[o,r,m]);a=new THREE.MeshLambertMaterial({map:s});mesh=new THREE.Mesh(t,a),mesh.receiveShadow=!0,mesh.rotation.x=-Math.PI/2,mesh.position.set(e,n,i),(t=new THREE.PlaneGeometry(100,n,1,1)).faceVertexUvs[0]=[];o=new THREE.Vector2(0,0),r=new THREE.Vector2(.65,0),m=new THREE.Vector2(.65,.333),h=new THREE.Vector2(0,.333);t.faceVertexUvs[0].push([h,o,m],[o,r,m]);a=new THREE.MeshLambertMaterial({map:s});mesh1=new THREE.Mesh(t,a),mesh1.receiveShadow=!0,mesh1.position.set(e,n/2,i+50),(t=new THREE.PlaneGeometry(100,n,1,1)).faceVertexUvs[0]=[];o=new THREE.Vector2(1,.36),r=new THREE.Vector2(1,1),m=new THREE.Vector2(.666,1),h=new THREE.Vector2(.666,.36);t.faceVertexUvs[0].push([h,o,m],[o,r,m]);a=new THREE.MeshLambertMaterial({map:s});return mesh2=new THREE.Mesh(t,a),mesh2.receiveShadow=!0,mesh2.rotation.y=Math.PI/2,mesh2.position.set(e+50,n/2,i),Shadow=makeShadow(),Shadow.position.set(e-30,0,i+8),group=new THREE.Object3D,group.add(mesh,mesh1,mesh2,Shadow),scene.add(group),group}function deleteGroup(e){for(var i=e.children,a=0;a<i.length;a++)i[a]instanceof THREE.Mesh?(i[a].geometry.dispose(),i[a].material.dispose()):i[a].traverse(function(e){e instanceof THREE.Mesh&&(e.geometry.dispose(),e.material.dispose())});scene.remove(e)}function onWindowResize(){width=document.getElementById("canvas-frame").clientWidth,camera.left=width/-2,camera.right=width/2,camera.updateProjectionMatrix(),renderer.setSize(width,height)}function animate(){requestAnimationFrame(animate),stats.update(),TWEEN.update(),render()}function render(){renderer.render(scene,camera)}function replay(){location.reload()}